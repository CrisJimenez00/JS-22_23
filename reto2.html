<html>

<head>
    <title>retos JavaScript</title>
</head>

<body>
    <h1>retos JavaScript</h1>
    <script>
        var cars = ["Saab", "Volvo", "BMW", ["Honda", "Toyota", ["Lexus", "Mercedes", "Lada"], "Hyunday"]];
        var carrakos = ["Chevrolet", "Tesla", "BMW", ["Honda", "Infiniti", ["Lexus", "Mercedes", "Kia"], "Hyunday"], ["Mazda", "Mercedes", "Jeep", ["KTM", "Nissan", "Isuzu"]]];
        //EJERCICIO 1. Alguien sabe hacer una lista única de coches con los dos arrays (sin repeticiones)?
        //Metemos todo en una lista ordenada
        let nuevoMap = cars.flat(Infinity).concat(carrakos.flat(Infinity)).sort();
        console.log(nuevoMap);

        //Las repetidas las ponemos en undefined
        let nuevoMapConUndefined = nuevoMap.map((e, i) => {
            if (nuevoMap.indexOf(e) === i) {
                return e;
            }
        });

        //Retiramos los undefined de la lista anterior con filter
        let nuevoMapSinUndefined = nuevoMapConUndefined.filter((e) => {
            if (nuevoMapConUndefined.indexOf(e) !== undefined) {
                return e;
            }
        });

        //mostramos resultado por consola
        console.log(nuevoMapSinUndefined);



        //EJERCICIO 2.  Alguien sabría decirme los coches de carrakos que no estén en cars?
        cars = cars.flat(Infinity);
        carrakos = carrakos.flat(Infinity);
        let carrakosFiltrado = carrakos.filter(e => cars.find(c => c == e) == undefined);

        console.log(carrakosFiltrado);


        var cars = ["Saab", "Volvo", "BMW", ["Honda", "Toyota", ["Lexus", "Mercedes", "Lada"], "Hyunday"]];
        var buddies = [{ firstName: "Chuck", lastName: "Norris", car: "Honda" }, { firstName: "Yakie", lastName: "Chang", car: "BMV" }, { firstName: "Bruce", lastName: "Lee", car: "Honda" }, { firstName: "Steven", lastName: "Seagal", car: "Lada" }];

        //-Nombre y apellidos de los buddies que usan un Honda
        var listaBuddiesHonda = buddies.filter(e => e.car.includes("Honda")).map((e => e.firstName + ' ' + e.lastName));
        console.log(listaBuddiesHonda);

        //-Marcas utilizadas por los buddies
        var listaBuddiesMarcas = buddies.map(e => e.car);
        console.log(listaBuddiesMarcas);

        //-Marcas no utilizadas por los buddies.
        console.log(cars.filter((item) => !buddies.map((item) => item.car).includes(item)));

        //-Cuantas marcas han sido utilizadas
        console.log(buddies.map((item) => item.car).filter((item, index, array) => array.indexOf(item) === index).length);

        //-Cuantas marcas no han sido utilizadas
        console.log(cars.filter((item) => !buddies.map((item) => item.car).includes(item)).length);


    </script>
</body>

</html>